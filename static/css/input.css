@tailwind base;
@tailwind components;
@tailwind utilities;

/* Custom styles for SUDO Kanban */

/* Priority badges */
.priority-badge {
    @apply inline-flex items-center px-2 py-1 rounded-full text-xs font-medium;
}

.priority-urgent {
    @apply bg-red-100 text-red-800;
}

.priority-high {
    @apply bg-orange-100 text-orange-800;
}

.priority-medium {
    @apply bg-yellow-100 text-yellow-800;
}

.priority-low {
    @apply bg-green-100 text-green-800;
}

/* Task card hover effects */
.task-card {
    @apply bg-white p-3 rounded-lg shadow-sm border border-gray-200 cursor-move hover:shadow-md transition-shadow;
}

.task-card:hover {
    @apply transform -translate-y-1;
}

/* Drag and drop states */
.sortable-ghost {
    @apply opacity-40;
    background: rgba(59, 130, 246, 0.1) !important;
    border: 2px dashed rgba(59, 130, 246, 0.4) !important;
    transform: scale(0.95) !important;
}

.sortable-chosen {
    @apply transform scale-105 shadow-lg;
    cursor: grabbing !important;
    z-index: 1000;
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2) !important;
}

.sortable-drag {
    @apply transform rotate-2;
    cursor: grabbing !important;
    z-index: 9999;
}

/* Enhanced dropzone styles */
.tasks-container {
    @apply relative;
    min-height: 300px;
    padding: 8px;
    transition: all 0.2s ease;
    flex: 1;
}

.tasks-container > * + * {
    margin-top: 12px;
}

/* Empty state dropzone */
.empty-state-dropzone {
    @apply mt-auto;
    padding: 8px;
}

/* Column layout adjustments */
.column-content {
    @apply flex flex-col bg-gray-100 rounded-lg p-4;
    min-height: 500px;
}

[data-sortable="tasks"] {
    @apply relative transition-all duration-200;
    min-height: 400px;
    padding: 8px;
}

/* Visual feedback during drag */
[data-sortable="tasks"].drag-active {
    min-height: 400px;
    background: linear-gradient(135deg, rgba(59, 130, 246, 0.03) 0%, rgba(59, 130, 246, 0.08) 100%);
    border: 2px dashed rgba(59, 130, 246, 0.3);
    border-radius: 8px;
}

/* Visual feedback for entire column during drag */
.drag-active {
    background: linear-gradient(135deg, rgba(59, 130, 246, 0.02) 0%, rgba(59, 130, 246, 0.05) 100%);
}

/* Empty column drop indicator */
[data-sortable="tasks"]:empty::after {
    content: "Drop tasks here";
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: rgba(107, 114, 128, 0.6);
    font-size: 0.875rem;
    pointer-events: none;
    z-index: 1;
}

[data-sortable="tasks"].drag-active:empty::after {
    content: "Drop task here";
    color: rgba(59, 130, 246, 0.8);
    font-weight: 500;
}

/* Prevent text selection during dragging */
body.dragging {
    user-select: none;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
}

body.dragging * {
    cursor: grabbing !important;
}

/* Task card hover effects during drag */
.drag-active [data-task-id]:not(.sortable-ghost):not(.sortable-chosen):hover {
    transform: translateY(-1px);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

/* Column styles */
.column {
    @apply bg-gray-100 rounded-lg p-4 min-h-96;
}

.column-header {
    @apply flex items-center justify-between mb-4 pb-2 border-b border-gray-200;
}

/* Button styles */
.btn-primary {
    @apply inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors;
}

.btn-secondary {
    @apply inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors;
}

.btn-danger {
    @apply inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors;
}

/* Form styles */
.form-input {
    @apply w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors;
}

.form-textarea {
    @apply w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none transition-colors;
}

.form-select {
    @apply w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors;
}

/* Modal styles */
.modal-overlay {
    @apply fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50;
}

.modal-content {
    @apply bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto;
}

.modal-header {
    @apply flex items-center justify-between p-6 border-b border-gray-200;
}

.modal-body {
    @apply p-6;
}

.modal-footer {
    @apply flex justify-end space-x-3 p-6 border-t border-gray-200;
}

/* Loading states */
.loading {
    @apply animate-pulse;
}

.loading-spinner {
    @apply animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600;
}

/* Notification styles */
.notification-success {
    @apply bg-green-50 border border-green-200 rounded-lg p-4 mb-4;
}

.notification-error {
    @apply bg-red-50 border border-red-200 rounded-lg p-4 mb-4;
}

.notification-warning {
    @apply bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4;
}

.notification-info {
    @apply bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4;
}

/* Board grid styles */
.board-grid {
    @apply grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6;
}

.board-card {
    @apply bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow cursor-pointer;
}

.board-card:hover {
    @apply border-blue-300;
}

/* Responsive kanban board */
.kanban-board {
    @apply flex space-x-6 overflow-x-auto pb-6;
}

.kanban-column {
    @apply flex-shrink-0 w-80;
}

/* User avatar */
.user-avatar {
    @apply w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white text-sm font-medium;
}

/* Status indicators */
.status-online {
    @apply w-3 h-3 bg-green-400 border-2 border-white rounded-full;
}

.status-offline {
    @apply w-3 h-3 bg-gray-400 border-2 border-white rounded-full;
}

.status-busy {
    @apply w-3 h-3 bg-red-400 border-2 border-white rounded-full;
}

/* Deadline indicators */
.deadline-overdue {
    @apply text-red-600;
}

.deadline-due-today {
    @apply text-orange-600;
}

.deadline-due-soon {
    @apply text-yellow-600;
}

.deadline-future {
    @apply text-gray-500;
}

/* Empty states */
.empty-state {
    @apply text-center py-12;
}

.empty-state-icon {
    @apply mx-auto h-12 w-12 text-gray-400 mb-4;
}

.empty-state-title {
    @apply text-lg font-medium text-gray-900 mb-2;
}

.empty-state-description {
    @apply text-gray-500 mb-6;
}

/* Line clamp utility */
.line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

.line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

/* Scrollbar styles */
.scrollbar-thin {
    scrollbar-width: thin;
    scrollbar-color: rgb(156 163 175) transparent;
}

.scrollbar-thin::-webkit-scrollbar {
    width: 6px;
}

.scrollbar-thin::-webkit-scrollbar-track {
    background: transparent;
}

.scrollbar-thin::-webkit-scrollbar-thumb {
    background-color: rgb(156 163 175);
    border-radius: 3px;
}

.scrollbar-thin::-webkit-scrollbar-thumb:hover {
    background-color: rgb(107 114 128);
}

/* Animation utilities */
.fade-in {
    animation: fadeIn 0.3s ease-in-out;
}

.slide-in {
    animation: slideIn 0.3s ease-in-out;
}

.scale-in {
    animation: scaleIn 0.2s ease-in-out;
}

@keyframes fadeIn {
    from {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
}

@keyframes slideIn {
    from {
        transform: translateY(-10px);
        opacity: 0;
    }
    to {
        transform: translateY(0);
        opacity: 1;
    }
}

@keyframes scaleIn {
    from {
        transform: scale(0.95);
        opacity: 0;
    }
    to {
        transform: scale(1);
        opacity: 1;
    }
}

/* Focus styles */
.focus-ring {
    @apply focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2;
}

/* Gradient backgrounds */
.gradient-primary {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
}

.gradient-secondary {
    background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
}

.gradient-success {
    background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
}

/* Mobile optimizations */
@media (max-width: 768px) {
    .kanban-board {
        @apply space-x-4;
    }
    
    .kanban-column {
        @apply w-72;
    }
    
    .modal-content {
        @apply mx-2;
    }
    
    .board-grid {
        @apply grid-cols-1;
    }
}

/* Print styles */
@media print {
    .no-print {
        display: none !important;
    }
    
    .print-break {
        page-break-before: always;
    }
}

/* High contrast mode */
@media (prefers-contrast: high) {
    .task-card {
        @apply border-2 border-gray-800;
    }
    
    .priority-badge {
        @apply border border-gray-800;
    }
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
    .task-card,
    .btn-primary,
    .btn-secondary,
    .btn-danger,
    .form-input,
    .form-textarea,
    .form-select {
        transition: none;
    }
    
    .fade-in,
    .slide-in,
    .scale-in {
        animation: none;
    }
}

/* Dark mode support (optional) */
@media (prefers-color-scheme: dark) {
    .dark-mode {
        @apply bg-gray-900 text-white;
    }
    
    .dark-mode .task-card {
        @apply bg-gray-800 border-gray-700;
    }
    
    .dark-mode .column {
        @apply bg-gray-800;
    }
    
    .dark-mode .board-card {
        @apply bg-gray-800 border-gray-700;
    }
}